<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Autism Data Collection Demo</title>
  <!-- Link to external CSS -->
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <!-- Main App -->
  <div class="container">
    <!-- Child Name Header -->
    <div class="child-header">
      <label for="childNameSelect">Child Name:</label>
      <select id="childNameSelect"></select>
    </div>
    
    <!-- Top Section: Dropdowns for Content Area, Program, Target -->
    <div id="topSection">
      <div class="dropdowns">
        <div class="dropdown-row">
          <label for="contentAreaSelect">Content Area</label>
          <select id="contentAreaSelect"></select>
        </div>
        <div class="dropdown-row">
          <label for="programSelect">Program</label>
          <select id="programSelect"></select>
        </div>
        <div class="dropdown-row">
          <label for="targetSelect">Target</label>
          <select id="targetSelect"></select>
        </div>
      </div>
    </div>
    
    <!-- Instructions and SD/Notes -->
    <div class="instructions">
      <p id="selectedDescription" class="chosen-description"></p>
      <div class="desc-buttons">
        <button id="toggleDetailsBtn">View Details</button>
        <button id="selectRandomBtn">Select Random</button>
      </div>
      <label for="sdInput">SD (Instruction)</label>
      <textarea id="sdInput" rows="2" placeholder='"Do the puzzle" while placing the piece...'></textarea>
      <label for="notesArea">Note</label>
      <textarea id="notesArea" rows="2" placeholder="Notes: Work Harder, Work Harder..."></textarea>
    </div>
    
    <!-- Trial Results -->
    <div class="trial-results">
      <div class="column">
        <label class="incorrect">
          <input type="radio" name="trialResult" value="incorrect" /> Incorrect
        </label>
        <label class="verbal">
          <input type="radio" name="trialResult" value="verbal" /> Verbal
        </label>
        <label class="prompted">
          <input type="radio" name="trialResult" value="prompted" /> Prompted
        </label>
        <label class="modeling">
          <input type="radio" name="trialResult" value="modeling" /> Modeling
        </label>
      </div>
      <div class="column">
        <label class="independent">
          <input type="radio" name="trialResult" value="independent" /> Independent
        </label>
        <label class="gestural">
          <input type="radio" name="trialResult" value="gestural" /> Gestural
        </label>
        <label class="partialPhysical">
          <input type="radio" name="trialResult" value="partialPhysical" /> Partial Physical
        </label>
        <label class="fullPhysical">
          <input type="radio" name="trialResult" value="fullPhysical" /> Full Physical
        </label>
      </div>
    </div>
    
    <!-- Prior Results -->
    <div class="prior-results">
      <h2>Prior Results (Current Target)</h2>
      <ul class="prior-list" id="priorList"></ul>
    </div>
  </div>
  
  <!-- Manage Data Section -->
  <div id="dataManagementSection">
    <hr/>
    <h2>Manage Data</h2>
    <div class="data-buttons">
      <button id="toggleDataTableBtn">Show Full Program</button>
      <button id="addNewRecordBtn">Add New Record</button>
      <button id="importProgramBtn">Import Program</button>
      <button id="exportTrialDataBtn">Export Trial Data CSV</button>
    </div>
    <div id="dataTableContainer" style="display: none;">
      <table id="dataTable"></table>
    </div>
  </div>
  
  <!-- Hidden CSV File Input (for import) -->
  <input type="file" id="csvFileInput" accept=".csv" style="opacity: 0; position: absolute; left: -9999px;" />
  
  <!-- Simple Edit Modal -->
  <div id="simpleEditModal" class="modal">
    <div class="modal-content">
      <span id="closeSimpleEditModal" class="close">&times;</span>
      <h2 id="simpleModalTitle">Edit Record</h2>
      <form id="simpleEditForm">
        <!-- Hidden fields for tracking mode and original record -->
        <input type="hidden" id="simpleEditMode" value="edit">
        <input type="hidden" id="simpleOriginalChild" value="">
        <input type="hidden" id="simpleOriginalArea" value="">
        <input type="hidden" id="simpleOriginalProgram" value="">
        <input type="hidden" id="simpleOriginalTarget" value="">
        
        <label for="simpleEditChild">Child Name</label>
        <input type="text" id="simpleEditChild" list="childList" required>
        <datalist id="childList"></datalist>
        
        <label for="simpleEditContentArea">Content Area</label>
        <input type="text" id="simpleEditContentArea" list="contentAreaList" required>
        <datalist id="contentAreaList"></datalist>
        
        <label for="simpleEditProgram">Program</label>
        <input type="text" id="simpleEditProgram" list="programList" required>
        <datalist id="programList"></datalist>
        
        <label for="simpleEditTarget">Target</label>
        <input type="text" id="simpleEditTarget" list="targetList" required>
        <datalist id="targetList"></datalist>
        
        <label for="simpleEditSD">SD (Instruction)</label>
        <textarea id="simpleEditSD" required></textarea>
        
        <label for="simpleEditNote">Note</label>
        <textarea id="simpleEditNote" required></textarea>
        
        <label>
          <input type="checkbox" id="simpleEditActive"> Active
        </label>
        
        <button type="submit" id="simpleSaveEditBtn">Save</button>
        <button type="button" id="simpleCancelEditBtn">Cancel</button>
      </form>
    </div>
  </div>
  
  <!-- Main JavaScript (uses ES6 modules) -->
  <script type="module" src="js/app.js"></script>
</body>
</html>
